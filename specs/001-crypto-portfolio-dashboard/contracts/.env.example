# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

NODE_ENV=development
PORT=3000
HOST=localhost

# ============================================================================
# DATABASE CONFIGURATION (Docker)
# ============================================================================

# For local development with Docker Compose
DATABASE_URL="postgresql://crypto_user:crypto_password_dev@localhost:5432/crypto_portfolio_dev"

# For production (example with AWS RDS)
# DATABASE_URL="postgresql://username:password@your-db-host.region.rds.amazonaws.com:5432/crypto_portfolio"

# ============================================================================
# REDIS CACHE (Docker)
# ============================================================================

# For local development with Docker Compose
REDIS_URL="redis://localhost:6379"

# For production (example with Redis Cloud)
# REDIS_URL="redis://username:password@your-redis-host.cloud.redislabs.com:12345"

# ============================================================================
# EXTERNAL API KEYS (BINANCE)
# ============================================================================

# Get your API keys from: https://www.binance.com/en/my/settings/api-management
# IMPORTANT: Use READ-ONLY keys (no trading, withdrawal, or transfer permissions)
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_SECRET_KEY=your_binance_secret_key_here

# API Base URL (change for testnet)
BINANCE_API_URL=https://api.binance.com

# ============================================================================
# ALTERNATIVE API KEYS (OPTIONAL)
# ============================================================================

# CoinGecko API (Free tier: 50 calls/minute)
# Get your API key from: https://www.coingecko.com/en/api
COINGECKO_API_KEY=your_coingecko_api_key_here
COINGECKO_API_URL=https://api.coingecko.com/api/v3

# CoinMarketCap API (Optional)
# COINMARKETCAP_API_KEY=your_coinmarketcap_api_key_here

# ============================================================================
# SECURITY
# ============================================================================

# JWT Secret (change this in production!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_change_in_production_use_strong_random_string

# JWT Expiration
JWT_EXPIRES_IN=7d

# CORS Origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:4200

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# LOGGING
# ============================================================================

# Log levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=debug

# Log to file (true/false)
LOG_TO_FILE=false

# Log file path (if LOG_TO_FILE=true)
LOG_FILE_PATH=./logs/app.log

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Price cache TTL in seconds
PRICE_CACHE_TTL=60

# Historical data cache TTL in seconds
HISTORICAL_CACHE_TTL=300

# Use in-memory cache if Redis unavailable
FALLBACK_TO_MEMORY_CACHE=true

# ============================================================================
# API CONFIGURATION
# ============================================================================

# Price update interval in milliseconds (60000 = 1 minute)
PRICE_UPDATE_INTERVAL=60000

# API request timeout in milliseconds
API_TIMEOUT=10000

# Max retry attempts for failed API requests
MAX_RETRY_ATTEMPTS=3

# Retry delay in milliseconds
RETRY_DELAY=1000

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable detailed error messages (disable in production)
ENABLE_DETAILED_ERRORS=true

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Enable Swagger documentation
ENABLE_SWAGGER_DOCS=true

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# Prisma Studio port
PRISMA_STUDIO_PORT=5555

# Enable database query logging
DATABASE_QUERY_LOGGING=false

# ============================================================================
# PRODUCTION SETTINGS (uncomment for production)
# ============================================================================

# NODE_ENV=production
# PORT=443
# HTTPS=true
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
# ENABLE_DETAILED_ERRORS=false
# LOG_LEVEL=warn
# DATABASE_QUERY_LOGGING=false
